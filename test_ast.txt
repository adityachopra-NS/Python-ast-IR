Module(
  body=[
    Import(
      names=[
        alias(name='time')],
      lineno=1,
      col_offset=0,
      end_lineno=1,
      end_col_offset=11),
    FunctionDef(
      name='allow_request',
      args=arguments(
        posonlyargs=[],
        args=[
          arg(
            arg='ip',
            lineno=3,
            col_offset=18,
            end_lineno=3,
            end_col_offset=20),
          arg(
            arg='hits',
            lineno=3,
            col_offset=22,
            end_lineno=3,
            end_col_offset=26)],
        kwonlyargs=[],
        kw_defaults=[],
        defaults=[]),
      body=[
        Assign(
          targets=[
            Name(
              id='now',
              ctx=Store(),
              lineno=4,
              col_offset=4,
              end_lineno=4,
              end_col_offset=7)],
          value=Call(
            func=Name(
              id='int',
              ctx=Load(),
              lineno=4,
              col_offset=10,
              end_lineno=4,
              end_col_offset=13),
            args=[
              BinOp(
                left=Call(
                  func=Attribute(
                    value=Name(
                      id='time',
                      ctx=Load(),
                      lineno=4,
                      col_offset=14,
                      end_lineno=4,
                      end_col_offset=18),
                    attr='time',
                    ctx=Load(),
                    lineno=4,
                    col_offset=14,
                    end_lineno=4,
                    end_col_offset=23),
                  args=[],
                  keywords=[],
                  lineno=4,
                  col_offset=14,
                  end_lineno=4,
                  end_col_offset=25),
                op=Mult(),
                right=Constant(
                  value=1000,
                  lineno=4,
                  col_offset=28,
                  end_lineno=4,
                  end_col_offset=32),
                lineno=4,
                col_offset=14,
                end_lineno=4,
                end_col_offset=32)],
            keywords=[],
            lineno=4,
            col_offset=10,
            end_lineno=4,
            end_col_offset=33),
          lineno=4,
          col_offset=4,
          end_lineno=4,
          end_col_offset=33),
        Assign(
          targets=[
            Name(
              id='window',
              ctx=Store(),
              lineno=5,
              col_offset=4,
              end_lineno=5,
              end_col_offset=10)],
          value=BinOp(
            left=Constant(
              value=10,
              lineno=5,
              col_offset=13,
              end_lineno=5,
              end_col_offset=15),
            op=Mult(),
            right=Constant(
              value=1000,
              lineno=5,
              col_offset=18,
              end_lineno=5,
              end_col_offset=22),
            lineno=5,
            col_offset=13,
            end_lineno=5,
            end_col_offset=22),
          lineno=5,
          col_offset=4,
          end_lineno=5,
          end_col_offset=22),
        Assign(
          targets=[
            Name(
              id='timestamps',
              ctx=Store(),
              lineno=6,
              col_offset=4,
              end_lineno=6,
              end_col_offset=14)],
          value=Call(
            func=Attribute(
              value=Name(
                id='hits',
                ctx=Load(),
                lineno=6,
                col_offset=17,
                end_lineno=6,
                end_col_offset=21),
              attr='get',
              ctx=Load(),
              lineno=6,
              col_offset=17,
              end_lineno=6,
              end_col_offset=25),
            args=[
              Name(
                id='ip',
                ctx=Load(),
                lineno=6,
                col_offset=26,
                end_lineno=6,
                end_col_offset=28),
              List(
                elts=[],
                ctx=Load(),
                lineno=6,
                col_offset=30,
                end_lineno=6,
                end_col_offset=32)],
            keywords=[],
            lineno=6,
            col_offset=17,
            end_lineno=6,
            end_col_offset=33),
          lineno=6,
          col_offset=4,
          end_lineno=6,
          end_col_offset=33),
        While(
          test=BoolOp(
            op=And(),
            values=[
              Name(
                id='timestamps',
                ctx=Load(),
                lineno=8,
                col_offset=10,
                end_lineno=8,
                end_col_offset=20),
              Compare(
                left=BinOp(
                  left=Name(
                    id='now',
                    ctx=Load(),
                    lineno=8,
                    col_offset=25,
                    end_lineno=8,
                    end_col_offset=28),
                  op=Sub(),
                  right=Subscript(
                    value=Name(
                      id='timestamps',
                      ctx=Load(),
                      lineno=8,
                      col_offset=31,
                      end_lineno=8,
                      end_col_offset=41),
                    slice=Constant(
                      value=0,
                      lineno=8,
                      col_offset=42,
                      end_lineno=8,
                      end_col_offset=43),
                    ctx=Load(),
                    lineno=8,
                    col_offset=31,
                    end_lineno=8,
                    end_col_offset=44),
                  lineno=8,
                  col_offset=25,
                  end_lineno=8,
                  end_col_offset=44),
                ops=[
                  Gt()],
                comparators=[
                  Name(
                    id='window',
                    ctx=Load(),
                    lineno=8,
                    col_offset=47,
                    end_lineno=8,
                    end_col_offset=53)],
                lineno=8,
                col_offset=25,
                end_lineno=8,
                end_col_offset=53)],
            lineno=8,
            col_offset=10,
            end_lineno=8,
            end_col_offset=53),
          body=[
            Expr(
              value=Call(
                func=Attribute(
                  value=Name(
                    id='timestamps',
                    ctx=Load(),
                    lineno=9,
                    col_offset=8,
                    end_lineno=9,
                    end_col_offset=18),
                  attr='pop',
                  ctx=Load(),
                  lineno=9,
                  col_offset=8,
                  end_lineno=9,
                  end_col_offset=22),
                args=[
                  Constant(
                    value=0,
                    lineno=9,
                    col_offset=23,
                    end_lineno=9,
                    end_col_offset=24)],
                keywords=[],
                lineno=9,
                col_offset=8,
                end_lineno=9,
                end_col_offset=25),
              lineno=9,
              col_offset=8,
              end_lineno=9,
              end_col_offset=25)],
          orelse=[],
          lineno=8,
          col_offset=4,
          end_lineno=9,
          end_col_offset=25),
        If(
          test=Compare(
            left=Call(
              func=Name(
                id='len',
                ctx=Load(),
                lineno=11,
                col_offset=7,
                end_lineno=11,
                end_col_offset=10),
              args=[
                Name(
                  id='timestamps',
                  ctx=Load(),
                  lineno=11,
                  col_offset=11,
                  end_lineno=11,
                  end_col_offset=21)],
              keywords=[],
              lineno=11,
              col_offset=7,
              end_lineno=11,
              end_col_offset=22),
            ops=[
              GtE()],
            comparators=[
              Constant(
                value=5,
                lineno=11,
                col_offset=26,
                end_lineno=11,
                end_col_offset=27)],
            lineno=11,
            col_offset=7,
            end_lineno=11,
            end_col_offset=27),
          body=[
            Return(
              value=Constant(
                value=False,
                lineno=12,
                col_offset=15,
                end_lineno=12,
                end_col_offset=20),
              lineno=12,
              col_offset=8,
              end_lineno=12,
              end_col_offset=20),
            Assign(
              targets=[
                Name(
                  id='debug_obj',
                  ctx=Store(),
                  lineno=15,
                  col_offset=8,
                  end_lineno=15,
                  end_col_offset=17)],
              value=Dict(
                keys=[
                  Constant(
                    value='ip',
                    lineno=16,
                    col_offset=12,
                    end_lineno=16,
                    end_col_offset=16),
                  Constant(
                    value='blockedAt',
                    lineno=17,
                    col_offset=12,
                    end_lineno=17,
                    end_col_offset=23),
                  Constant(
                    value='reason',
                    lineno=18,
                    col_offset=12,
                    end_lineno=18,
                    end_col_offset=20)],
                values=[
                  Name(
                    id='ip',
                    ctx=Load(),
                    lineno=16,
                    col_offset=18,
                    end_lineno=16,
                    end_col_offset=20),
                  Name(
                    id='now',
                    ctx=Load(),
                    lineno=17,
                    col_offset=25,
                    end_lineno=17,
                    end_col_offset=28),
                  Constant(
                    value='RATE_LIMIT',
                    lineno=18,
                    col_offset=22,
                    end_lineno=18,
                    end_col_offset=34)],
                lineno=15,
                col_offset=20,
                end_lineno=19,
                end_col_offset=9),
              lineno=15,
              col_offset=8,
              end_lineno=19,
              end_col_offset=9),
            Expr(
              value=Call(
                func=Name(
                  id='print',
                  ctx=Load(),
                  lineno=20,
                  col_offset=8,
                  end_lineno=20,
                  end_col_offset=13),
                args=[
                  Constant(
                    value='This will NEVER be logged',
                    lineno=20,
                    col_offset=14,
                    end_lineno=20,
                    end_col_offset=41),
                  Name(
                    id='debug_obj',
                    ctx=Load(),
                    lineno=20,
                    col_offset=43,
                    end_lineno=20,
                    end_col_offset=52)],
                keywords=[],
                lineno=20,
                col_offset=8,
                end_lineno=20,
                end_col_offset=53),
              lineno=20,
              col_offset=8,
              end_lineno=20,
              end_col_offset=53)],
          orelse=[],
          lineno=11,
          col_offset=4,
          end_lineno=20,
          end_col_offset=53),
        Expr(
          value=Call(
            func=Attribute(
              value=Name(
                id='timestamps',
                ctx=Load(),
                lineno=22,
                col_offset=4,
                end_lineno=22,
                end_col_offset=14),
              attr='append',
              ctx=Load(),
              lineno=22,
              col_offset=4,
              end_lineno=22,
              end_col_offset=21),
            args=[
              Name(
                id='now',
                ctx=Load(),
                lineno=22,
                col_offset=22,
                end_lineno=22,
                end_col_offset=25)],
            keywords=[],
            lineno=22,
            col_offset=4,
            end_lineno=22,
            end_col_offset=26),
          lineno=22,
          col_offset=4,
          end_lineno=22,
          end_col_offset=26),
        Assign(
          targets=[
            Subscript(
              value=Name(
                id='hits',
                ctx=Load(),
                lineno=23,
                col_offset=4,
                end_lineno=23,
                end_col_offset=8),
              slice=Name(
                id='ip',
                ctx=Load(),
                lineno=23,
                col_offset=9,
                end_lineno=23,
                end_col_offset=11),
              ctx=Store(),
              lineno=23,
              col_offset=4,
              end_lineno=23,
              end_col_offset=12)],
          value=Name(
            id='timestamps',
            ctx=Load(),
            lineno=23,
            col_offset=15,
            end_lineno=23,
            end_col_offset=25),
          lineno=23,
          col_offset=4,
          end_lineno=23,
          end_col_offset=25),
        Return(
          value=Constant(
            value=True,
            lineno=24,
            col_offset=11,
            end_lineno=24,
            end_col_offset=15),
          lineno=24,
          col_offset=4,
          end_lineno=24,
          end_col_offset=15),
        Assign(
          targets=[
            Name(
              id='fake_counter',
              ctx=Store(),
              lineno=27,
              col_offset=4,
              end_lineno=27,
              end_col_offset=16)],
          value=Constant(
            value=0,
            lineno=27,
            col_offset=19,
            end_lineno=27,
            end_col_offset=20),
          lineno=27,
          col_offset=4,
          end_lineno=27,
          end_col_offset=20),
        For(
          target=Name(
            id='i',
            ctx=Store(),
            lineno=28,
            col_offset=8,
            end_lineno=28,
            end_col_offset=9),
          iter=Call(
            func=Name(
              id='range',
              ctx=Load(),
              lineno=28,
              col_offset=13,
              end_lineno=28,
              end_col_offset=18),
            args=[
              Constant(
                value=1000000,
                lineno=28,
                col_offset=19,
                end_lineno=28,
                end_col_offset=28)],
            keywords=[],
            lineno=28,
            col_offset=13,
            end_lineno=28,
            end_col_offset=29),
          body=[
            AugAssign(
              target=Name(
                id='fake_counter',
                ctx=Store(),
                lineno=29,
                col_offset=8,
                end_lineno=29,
                end_col_offset=20),
              op=Add(),
              value=Name(
                id='i',
                ctx=Load(),
                lineno=29,
                col_offset=24,
                end_lineno=29,
                end_col_offset=25),
              lineno=29,
              col_offset=8,
              end_lineno=29,
              end_col_offset=25)],
          orelse=[],
          lineno=28,
          col_offset=4,
          end_lineno=29,
          end_col_offset=25)],
      decorator_list=[],
      lineno=3,
      col_offset=0,
      end_lineno=29,
      end_col_offset=25)],
  type_ignores=[])